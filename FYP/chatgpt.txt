[5 3 4 6]
import java.io.*;
import java.net.*;

public class MyServer {
  public static void main(String[] args) {
    try {
      // Open a server socket on port 5000
      ServerSocket serverSocket = new ServerSocket(5000);

      // Listen for incoming connections
      while (true) {
        Socket clientSocket = serverSocket.accept();

        // Handle the incoming connection in a separate thread
        new Thread(() -> handleConnection(clientSocket)).start();
      }
    } catch (IOException e) {
      System.out.println("An error occurred while opening the server socket or listening for incoming connections");
      e.printStackTrace();
    }
  }

  private static void handleConnection(Socket clientSocket) {
    try {
      // Get the input and output streams for the socket
      BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));
      PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);

      // Read data from the client and echo it back
      String inputLine;
      while ((inputLine = in.readLine()) != null) {
        out.println(inputLine);
      }
    } catch (IOException e) {
      System.out.println("An error occurred while handling the incoming connection");
      e.printStackTrace();
    } finally {
      // Close the socket
      try {
        clientSocket.close();
      } catch (IOException e) {
        System.out.println("An error occurred while closing the socket");
        e.printStackTrace();
      }
    }
  }
}







